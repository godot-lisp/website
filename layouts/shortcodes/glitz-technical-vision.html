{{/* Shortcode: glitz-technical-vision
   Supports inner content and optional title parameter.
   Inner content format: each line "icon | title | quote"
   Example:
   {{< glitz-technical-vision title="Technical Vision" >}}
   λ | Homoiconic | Code Is Data; Data Is Code.<br>To reduce the friction between game-logic and game-data.
   # | Idiomatic Lisp | [PLACEHOLDER: Leveraging Lisp's unique features within Godot - macros, S-expressions, etc.]
   ∞ | Extensible Core | [PLACEHOLDER: How the framework can be extended and customized]
   {{< /glitz-technical-vision >}}
*/}}
<link rel="stylesheet" href="{{ "css/glitz/technical-vision.css" | relURL }}">
{{ $title := .Get "title" | default "" }}
{{ $inner := .Inner | default "" }}
{{ $features := slice }}
{{ if ne $inner "" }}
  {{ range $line := split $inner "\n" }}
    {{ $line := trim $line " \t" }}
    {{ if ne $line "" }}
      {{ $parts := split $line "|" }}
      {{ if ge (len $parts) 3 }}
        {{ $features = $features | append (dict "icon" (trim (index $parts 0) " \t") "title" (trim (index $parts 1) " \t") "quote" (trim (index $parts 2) " \t")) }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}
{{ partial "glitz/technical-vision.html" (dict "title" $title "features" $features) }}
